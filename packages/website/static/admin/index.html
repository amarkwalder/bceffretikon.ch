<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link href="admin/config.yml" type="text/yaml" rel="cms-config-url" />
        <title>Content Manager</title>
    </head>
    <body>
        <!-- Include the script that builds the page and powers Netlify CMS -->
        <script src="https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js"></script>
        <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

        <script>
            CMS.registerPreviewStyle('/client/main.1957428468.css');

            var BlogPreview = createClass({
                render: function () {
                    var entry = this.props.entry;
                    return h(
                        'div',
                        {},
                        h('h1', {}, entry.getIn(['data', 'title'])),
                        h('p', { src: bg.toString() }),
                        h('div', { className: 'text' }, this.props.widgetFor('body')),
                    );
                },
            });
            CMS.registerPreviewTemplate('blog', BlogPreview);

            var HolidaysPreview = createClass({
                holidaysEntry: function (title, lang) {
                    return h(
                        'div',
                        {},
                        h('h5', {}, title),
                        h(
                            'table',
                            { width: '100%', tableLayout: 'fixed' },
                            this.props.widgetsFor('holiday').map(function (holiday, index) {
                                return h(
                                    'tr',
                                    { key: index },
                                    h('td', { width: '40%' }, holiday.getIn(['data', 'title-' + lang])),
                                    h('td', { width: '30%' }, holiday.getIn(['data', 'from'])),
                                    h('td', { width: '30%' }, holiday.getIn(['data', 'to'])),
                                );
                            }),
                        ),
                        h('br', {}),
                    );
                },
                render: function () {
                    return h(
                        'div',
                        {},
                        this.holidaysEntry('Deutsch', 'de'),
                        this.holidaysEntry('English', 'en'),
                        this.holidaysEntry('Fran√ßais', 'fr'),
                        this.holidaysEntry('Italiano', 'it'),
                    );
                },
            });
            CMS.registerPreviewTemplate('holidays', HolidaysPreview);
        </script>
    </body>
</html>
